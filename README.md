TODO:
- Unhandlded json encode/decodes
- handle INVALID_SESSION opcode (partly done)
- change consts to CamelCase
